#!/usr/bin/python3
import subprocess
import os

res = subprocess.check_output('ip a', shell=True, text=True)

# grab tun0 output
index = res.find("tun0:")
res = res[index:]

# get just the inet line
index = res.find("inet")
res = res[index:]

# example up until now -> inet <ip>/24 ....

# start after 'inet ' (start of ip)
res = res[5:]

# grab the ip up until the /
res = res[:res.find('/')]

print(f'copying {res} to xclip')
os.system(f'echo -n {res} | xclip -sel clip')
print('copied to clipboard.')
